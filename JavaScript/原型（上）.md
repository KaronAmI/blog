# åŸå‹

åœ¨ JavaScript ä¸­ï¼Œå‡½æ•°ä¹Ÿæ˜¯å±äºå¯¹è±¡ï¼Œå¯ä»¥åƒå…¶ä»–å¯¹è±¡ä¸€æ ·è®¿é—®å±æ€§ï¼Œå…¶ä¸­å°±æœ‰ä¸€ä¸ªå±æ€§å«åŸå‹ prototypeï¼Œå€¼ä¸ºä¸€ä¸ªå¯¹è±¡ã€‚

```JavaScript
function person () {
  return 'hi'
}

typeof person.prototype // "object"
```

æˆ‘ä»¬å¯ä»¥å¯¹è¿™ä¸ªå±æ€§è¿›è¡Œæ“ä½œï¼Œä½†è¿™ä¸ªå±æ€§ï¼Œåªæœ‰åœ¨å¯¹å‡½æ•°è¿›è¡Œæ„é€ è°ƒç”¨çš„æ—¶å€™æ‰ä¼šèµ·ä½œç”¨

**ğŸ™‚ ä¸ºåŸå‹æ·»åŠ å±æ€§å’Œæ–¹æ³•**

```JavaScript
function Person (name) {
  this.name = name
}
Person.prototype.smart = true
Person.prototype.run = function () {
  console.log('running')
}

// æˆ–è€…ä¸€æ¬¡æ€§æ·»åŠ 

Person.prototype = {
  smart: true,
  run() {
    console.log('running')
  }
}
```

**ğŸ˜³ ä½¿ç”¨**

```JavaScript
// ...
let a = new Person('a')
a.name // a
a.smart // true
a.run() // running
```

è¿™é‡Œï¼Œa è®¿é—® smart æ—¶ï¼Œjs å¼•æ“ä¼šéå†è‡ªèº«å¯¹è±¡çš„å±æ€§ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œä¾¿ä¼šå»**æ„é€ å‡½æ•°çš„åŸå‹**ä¸ŠæŸ¥æ‰¾è¯¥å±æ€§ï¼Œå¦‚æœè¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œä¾¿ä¼šç»§ç»­å¾€ä¸Šæ‰¾ï¼Œç”±äºå‡½æ•°çš„åŸå‹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡åˆä¼šæœ‰ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæ„é€ å‡½æ•°åˆä¼šæœ‰ä¸€ä¸ªåŸå‹ï¼Œè¿™æ ·ä¸€ç›´ä¸æ–­çš„ç»§ç»­æ‰¾ä¸‹å»ï¼Œç›´åˆ° Object å†…å»ºå¯¹è±¡ï¼Œè¿™æ•´ä¸ªè¿‡ç¨‹å«åšåŸå‹é“¾ã€‚ä¾‹å¦‚:

```JavaScript
// ...
let a = new Person('a')
a.toString() // "[object Object]"
```

Person å‡½æ•°å’ŒåŸå‹ä¸Šéƒ½æ²¡æœ‰ toString æ–¹æ³•ï¼Œæ‰€ä»¥åªèƒ½è°ƒç”¨ Object ä¸Šçš„ toString æ–¹æ³•ã€‚

æ³¨æ„ï¼šåŸºäºåŒä¸€ä¸ªæ„é€ å‡½æ•°ç”Ÿæˆçš„å¯¹è±¡ï¼Œå…±äº«å‡½æ•°çš„åŸå‹ï¼Œå¦‚ï¼š

```JavaScript
// ...
let b = new Person('b')
b.name // b
b.smart = false
b.smart // false
a.smart // false
```

å¯¹ b çš„ smart å±æ€§è¿›è¡Œä¿®æ”¹ï¼Œa è®¿é—® smart ä¹Ÿæœ‰åŸå…ˆçš„ true å˜ä¸º false äº†ã€‚

å¦‚æœè‡ªèº«å’ŒåŸå‹ä¸Šå­˜åœ¨åŒåå±æ€§ï¼Œä¼šä¼˜å…ˆä½¿ç”¨è‡ªèº«å±æ€§ï¼Œä¾‹å¦‚ï¼š

```JavaScript
function Person () {
  this.name = 'Jon'
}
Person.prototype.name = 'people'
let jon = new Person()
jon.name // Jon
```

**ğŸ˜ hasOwnPrototype**

è¯¥æ–¹æ³•æ¥åˆ¤æ–­æ˜¯å¦è‡ªèº«å±æ€§ï¼Œå¦‚ï¼š

```JavaScript
function Person () {
  this.name = 'Jon'
}
Person.prototype.name = 'people'
Person.prototype.age = 18
let jon = new Person()
jon.hasOwnProperty('name') // true
jon.hasOwnProperty('age') // false
```

age ä¸ºåŸå‹ä¸Šçš„å±æ€§ï¼Œæ‰€ä»¥ä¸º false

**ğŸ˜Ÿ isPrototypeOf**

è¯¥æ–¹æ³•æ¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦æ˜¯å¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹ï¼Œå¦‚ï¼š

```JavaScript
let base = {
  name: 'people',
  age: 18
}
function Person () {
  this.name = 'Jon'
}
Person.prototype = base
let jon = new Person()
base.isPrototypeOf(jon) // true
```

**ğŸ˜¯ getPrototypeOf**

å½“ä¸çŸ¥é“å¯¹è±¡çš„åŸå‹å…·ä½“æ˜¯å“ªä¸ªçš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•æ¥åˆ¤æ–­ï¼Œå¦‚ï¼š

```JavaScript
let base = {
  name: 'people',
  age: 18
}
function Person () {
  this.name = 'Jon'
}
Person.prototype = base
let jon = new Person()
Object.getPrototypeOf(jon) // { name: 'people', age: 18 }
```

**ğŸ™ƒ \_ \_proto\_ \_**

æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªè¯¥å±æ€§ï¼Œä¾¿æºè®¿é—®åŸå‹å¯¹è±¡ï¼Œç›´æŒ‡åŸå‹å¯¹è±¡ï¼š

```JavaScript
let base = {
  name: 'people',
  age: 18
}
function Person () {
  this.name = 'Jon'
}
Person.prototype = base
let jon = new Person()
jon.__proto__ // { name: 'people', age: 18 }
```

ä¸ prototype ä¸åŒçš„æ˜¯ï¼Œ**\_ \_proto\_ \_** æ˜¯å¯¹è±¡çš„å±æ€§ï¼Œprototype æ˜¯æ„é€ å‡½æ•°çš„å±æ€§

**ã€ES5ã€‘Object.create(..)**

è¯¥æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä½¿ç”¨ç°æœ‰çš„å¯¹è±¡æ¥æä¾›æ–°åˆ›å»ºçš„å¯¹è±¡çš„ **\_ \_proto\_ \_**ï¼š

```JavaScript
let base = {
  name: 'people',
  age: 18
}
let jon = Object.create(base)
jon.__proto__ // { name: 'people', age: 18 }
```

## â„ï¸ æ€»ç»“è‡ªï¼š

- ã€ŠJavaScript é¢å‘å¯¹è±¡ç¼–ç¨‹æŒ‡å—ï¼ˆç¬¬ 2 ç‰ˆï¼‰ã€‹ç¬¬ 5 ç«  åŸå‹
- ã€ŠNode.js å¼€å‘æŒ‡å—ã€‹é™„å½• A
- [ã€ŠMDN Object.create()ã€‹](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/create)
