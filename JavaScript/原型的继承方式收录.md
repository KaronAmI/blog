# åŸå‹çš„ç»§æ‰¿æ–¹å¼æ”¶å½•

ä»¥ä¸€ä¸ªçˆ¶ç±»ä¸ºå‰ææ¡ä»¶ï¼Œåˆ—ä¸¾ js ç»§æ‰¿çš„ç»§æ‰¿æ–¹å¼ï¼š

```JavaScript
function Person (age) {
  this.age = age || 18
}
Person.prototype.sleep = function () {
  console.log('sleeping')
}
```

**ğŸ– æ–¹å¼ 1ï¼šåŸå‹é“¾ç»§æ‰¿ï¼ˆä¸æ¨èï¼‰**

å°†çˆ¶ç±»å®ä¾‹ä½œä¸ºå­ç±»çš„åŸå‹

```JavaScript
function Programmer() {}

Programmer.prototype = new Person ()
Programmer.prototype.code = function () {
  console.log('coding')
}

let jon = new Programmer()
jon.code() // coding
jon.sleep() // sleeping

jon instanceof Person // true
jon instanceof Programmer // true

Object.getPrototypeOf(jon) // PersonÂ {age: 18, code: Æ’}
jon.__proto__ // PersonÂ {age: 18, code: Æ’}
```

ç¼ºç‚¹ï¼š

1. æ–°å¢åŸå‹å±æ€§æ–¹æ³•ï¼Œå¿…é¡»åœ¨ **new Person()** ä¹‹åï¼Œä¸ç„¶ä¼šè¢«è¦†ç›–ã€‚
2. åˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œæ— æ³•å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚ã€‚
3. æ— æ³•å¤šç»§æ‰¿ã€‚
4. çˆ¶ç±»çš„æ‰€æœ‰åŸå‹å±æ€§å’Œæ–¹æ³•è¢«å®ä¾‹å…±äº«ï¼Œåªè¦ä¸€ä¸ªå­ç±»å®ä¾‹ä¿®æ”¹äº†ï¼Œå…¶ä»–æ‰€æœ‰çš„å­ç±»å®ä¾‹éƒ½ä¼šè¢«å½±å“ã€‚

**ğŸŒ­ æ–¹å¼ 2ï¼šæ„é€ ç»§æ‰¿ï¼ˆä¸æ¨èï¼‰**

å¤åˆ¶çˆ¶ç±»**æ„é€ å‡½æ•°å†…çš„å±æ€§å’Œæ–¹æ³•**

```JavaScript
function Programmer(name) {
  Person.call(this)
  this.name = name
}
let jon = new Programmer('jon')
jon.name // jon
jon.age // 18

jon.sleep() // Uncaught TypeError: jon.sleep is not a function
jon instanceof Person // false
jon instanceof Programmer // true
```

ç¼ºç‚¹ï¼š

1. åªæ˜¯å­ç±»çš„å®ä¾‹ï¼Œä¸æ˜¯çˆ¶ç±»çš„å®ä¾‹ã€‚
2. è¿˜èƒ½ç»§æ‰¿çˆ¶ç±»æ„é€ å‡½æ•°çš„å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿çˆ¶ç±»åŸå‹çš„å±æ€§å’Œæ–¹æ³•ã€‚

**ğŸ— æ–¹å¼ 3ï¼šå®ä¾‹ç»§æ‰¿ï¼ˆä¸æ¨èï¼‰**

ä¸ºçˆ¶ç±»å®ä¾‹æ·»åŠ æ–°ç‰¹æ€§ï¼Œä½œä¸ºå­ç±»å®ä¾‹è¿”å›

```JavaScript
function Programmer(name) {
  let instance = new Person()
  instance.name = name
  return instance
}

let jon = new Programmer('jon')
jon instanceof Person // true
jon instanceof Programmer // false
```

ç¼ºç‚¹ï¼š

1. åªæ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œä¸æ˜¯å­ç±»çš„å®ä¾‹ã€‚

**ğŸ¤ æ–¹å¼ 4ï¼šç»„åˆç»§æ‰¿ï¼ˆæ¨èï¼‰**

é€šè¿‡è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°å¤åˆ¶è‡ªèº«å±æ€§ï¼Œå°†çˆ¶ç±»å®ä¾‹ä½œä¸ºå­ç±»åŸå‹ï¼Œç»§æ‰¿åŸå‹çš„å±æ€§å’Œæ–¹æ³•

```JavaScript
function Programmer(age, name) {
  Person.call(this, age)
  this.name = name
}

Programmer.prototype = new Person()
Programmer.prototype.constructor = Programmer // ä¿®å¤æ„é€ å‡½æ•°æŒ‡å‘

let jon = new Programmer(18, 'jon')
jon.age // 18
jon.name // jon

let flash = new Programmer(22, 'flash')
flash.age // 22
flash.name // flash

jon.age // 18

jon instanceof Person // true
jon instanceof Programmer // true
flash instanceof Person // true
flash instanceof Programmer // true
```

ä¼˜ç‚¹ï¼š

1. ä¸å­˜åœ¨å¼•ç”¨å±æ€§å…±äº«é—®é¢˜

ç¼ºç‚¹ï¼š

1. è°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œç”Ÿæˆäº†ä¸¤ä»½å®ä¾‹ï¼ˆå­ç±»å®ä¾‹å°†å­ç±»åŸå‹ä¸Šçš„é‚£ä»½å±è”½äº†ï¼‰ã€‚

**ğŸ³ æ–¹å¼ 5ï¼š å¯„ç”Ÿç»„åˆç»§æ‰¿ï¼ˆæ¨èï¼‰**

å­ç±»æ„é€ å‡½æ•°å¤åˆ¶çˆ¶ç±»çš„è‡ªèº«å±æ€§å’Œæ–¹æ³•ï¼Œå­ç±»åŸå‹åªæ¥å—çˆ¶ç±»çš„åŸå‹å±æ€§å’Œæ–¹æ³•

```JavaScript
function Super(prototype) {
  let Super = function () {}
  Super.prototype = prototype
  return new Super()
}

function Programmer(age, name) {
  Person.call(this, age)
  this.name = name
}

Programmer.prototype = Super(Person.prototype)
Programmer.prototype.constructor = Programmer // ä¿®å¤æ„é€ å‡½æ•°æŒ‡å‘

let jon = new Programmer(18, 'jon')
jon.age // 18
jon.name // jon

jon instanceof Person // true
jon instanceof Programmer // true
```

ç¼ºç‚¹ï¼š

1. å¤æ‚ã€‚

**ğŸœ æ–¹å¼ 6ï¼šES6 extendsï¼ˆæ¨èï¼‰**

```JavaScript
// çˆ¶ç±»
class Person {
  constructor(age) {
    this.age = age
  }
  sleep () {
    console.log('sleeping')
  }
}

// å­ç±»
class Programmer extends Person {
  constructor(age, name) {
    super(age)
    this.name = name
  }
  code () {
    console.log('coding')
  }
}

let jon = new Programmer(18, 'jon')
jon.name // jon
jon.age // 18

let flash = new Programmer(22, 'flash')
flash.age // 22
flash.name // flash

jon instanceof Person // true
jon instanceof Programmer // true
flash instanceof Person // true
flash instanceof Programmer // true
```

ä¼˜ç‚¹ï¼š

1. ä¸ç”¨æ‰‹åŠ¨è®¾ç½®åŸå‹ã€‚

ç¼ºç‚¹ï¼š

1. æ–°è¯­æ³•ï¼Œåªè¦éƒ¨åˆ†æµè§ˆå™¨æ”¯æŒï¼Œéœ€è¦è½¬ä¸º es5 ä»£ç ã€‚

## â„ï¸ æ€»ç»“è‡ªï¼š

- [JS å®ç°ç»§æ‰¿çš„å‡ ç§æ–¹å¼](http://www.cnblogs.com/humin/p/4556820.html)
- [ã€ŠECMAScript 6 å…¥é—¨ã€‹Class çš„ç»§æ‰¿ä¸€ç« ](http://es6.ruanyifeng.com/#docs/class-extends)
